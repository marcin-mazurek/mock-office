{"version":3,"sources":["../../../../../src/lib/app/appServer/middlewares/removeServerMiddleware.js"],"names":["removeServerMiddleware","req","res","schema","type","properties","id","required","validate","body","remove","then","status","end","json","errors"],"mappings":";;;;;kBAGwBA,sB;;AAHxB;;;;AACA;;;;;;AAEe,SAASA,sBAAT,CAAgCC,GAAhC,EAAqCC,GAArC,EAA0C;AACvD,MAAMC,SAAS;AACbC,UAAM,QADO;AAEbC,gBAAY;AACVC,UAAI;AACFF,cAAM;AADJ;AADM,KAFC;AAObG,cAAU,CAAC,IAAD;AAPG,GAAf;;AAUA,MAAI,cAAIC,QAAJ,CAAaL,MAAb,EAAqBF,IAAIQ,IAAzB,CAAJ,EAAoC;AAClC,yBAAWC,MAAX,CAAkBT,IAAIQ,IAAJ,CAASH,EAA3B,EACGK,IADH,CAEI,YAAM;AACJT,UAAIU,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,KAJL,EAKI,YAAM;AACJX,UAAIU,MAAJ,CAAW,GAAX,EAAgBC,GAAhB;AACD,KAPL;AASD,GAVD,MAUO;AACLX,QAAIU,MAAJ,CAAW,GAAX,EAAgBE,IAAhB,CAAqB,cAAIC,MAAJ,CAAW,CAAX,CAArB;AACD;AACF","file":"removeServerMiddleware.js","sourcesContent":["import serversHub from '../../serversHub';\nimport ajv from '../ajv';\n\nexport default function removeServerMiddleware(req, res) {\n  const schema = {\n    type: 'object',\n    properties: {\n      id: {\n        type: 'string'\n      }\n    },\n    required: ['id']\n  };\n\n  if (ajv.validate(schema, req.body)) {\n    serversHub.remove(req.body.id)\n      .then(\n        () => {\n          res.status(200).end();\n        },\n        () => {\n          res.status(404).end();\n        }\n      );\n  } else {\n    res.status(400).json(ajv.errors[0]);\n  }\n}\n"]}