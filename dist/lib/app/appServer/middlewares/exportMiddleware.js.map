{"version":3,"sources":["../../../../../src/lib/app/appServer/middlewares/exportMiddleware.js"],"names":["configure","req","res","set","write","JSON","stringify","getServers","map","end"],"mappings":";;;;;kBAGwBA,S;;AAHxB;;;;AACA;;;;AAEe,SAASA,SAAT,GAAqB;AAClC,SAAO,UAACC,GAAD,EAAMC,GAAN,EAAc;AACnBA,QACGC,GADH,CACO;AACH,sBAAgB,YADb;AAEH,6BAAuB;AAFpB,KADP,EAKGC,KALH,CAKSC,KAAKC,SAAL,CAAe,qBAAWC,UAAX,GAAwBC,GAAxB,gCAAf,CALT,EAKwE,OALxE,EAKiF,YAAM;AACnFN,UAAIO,GAAJ;AACD,KAPH;AAQD,GATD;AAUD","file":"exportMiddleware.js","sourcesContent":["import serversHub from '../../serversHub';\nimport { serverToResponse } from './transformers';\n\nexport default function configure() {\n  return (req, res) => {\n    res\n      .set({\n        'Content-Type': 'text/plain',\n        'Content-Disposition': 'attachment; filename=export.json'\n      })\n      .write(JSON.stringify(serversHub.getServers().map(serverToResponse)), 'utf-8', () => {\n        res.end();\n      });\n  };\n}\n"]}