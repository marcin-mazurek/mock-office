{"version":3,"sources":["../../../../../src/lib/app/appServer/middlewares/exportMiddleware.js"],"names":["exportMiddleware","req","res","set","write","JSON","stringify","getServers","map","end"],"mappings":";;;;;kBAGwBA,gB;;AAHxB;;;;AACA;;;;AAEe,SAASA,gBAAT,CAA0BC,GAA1B,EAA+BC,GAA/B,EAAoC;AACjDA,MACGC,GADH,CACO;AACH,oBAAgB,YADb;AAEH,2BAAuB;AAFpB,GADP,EAKGC,KALH,CAKSC,KAAKC,SAAL,CAAe,qBAAWC,UAAX,GAAwBC,GAAxB,gCAAf,CALT,EAKwE,OALxE,EAKiF,YAAM;AACnFN,QAAIO,GAAJ;AACD,GAPH;AAQD","file":"exportMiddleware.js","sourcesContent":["import serversHub from '../../serversHub';\nimport { serverToResponse } from './transformers';\n\nexport default function exportMiddleware(req, res) {\n  res\n    .set({\n      'Content-Type': 'text/plain',\n      'Content-Disposition': 'attachment; filename=export.json'\n    })\n    .write(JSON.stringify(serversHub.getServers().map(serverToResponse)), 'utf-8', () => {\n      res.end();\n    });\n}\n"]}